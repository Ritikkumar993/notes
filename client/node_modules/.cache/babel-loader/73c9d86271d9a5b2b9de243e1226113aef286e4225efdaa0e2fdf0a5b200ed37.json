{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ritik kumar\\\\OneDrive - Lovely Professional University\\\\Documents\\\\Note.me\\\\client\\\\src\\\\components\\\\contextProvider\\\\NotesContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../config/config\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotesContext = /*#__PURE__*/createContext();\nexport const NotesProvider = ({\n  children\n}) => {\n  _s();\n  const [notes, setNotes] = useState([]);\n  const [selectedNote, setSelectedNote] = useState(null);\n  const [isNotesLoading, setIsNotesLoading] = useState(false);\n  const navigate = useNavigate();\n  const fetchNotes = async () => {\n    setIsNotesLoading(true);\n    try {\n      const response = await axios.get(`${API_URL}/note/get-notes`, {\n        withCredentials: true\n      });\n      setNotes(response.data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsNotesLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchNotes();\n  }, []);\n  const deleteNote = async id => {\n    try {\n      await axios.delete(`${API_URL}/note/delete-note${id}`, {\n        withCredentials: true\n      });\n      setNotes(prevNotes => prevNotes.filter(note => note._id !== id));\n      if (selectedNote && selectedNote._id === id) {\n        setSelectedNote(null);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const getNoteById = async id => {\n    setIsNotesLoading(true);\n    try {\n      const noteFromState = notes.find(note => note._id === id);\n      if (noteFromState) {\n        setSelectedNote(noteFromState);\n        return noteFromState;\n      }\n    } catch (err) {\n      console.error(err);\n      return null;\n    } finally {\n      setIsNotesLoading(false);\n    }\n  };\n  const updateNote = async (id, updatedNote) => {\n    try {\n      const response = await axios.put(`${API_URL}/note/update-note${id}`, updatedNote, {\n        withCredentials: true\n      });\n      setNotes([]);\n      //setSelectedNote(response.data);\n      return response.data;\n    } catch (err) {\n      console.error(err);\n      return null;\n    } finally {\n      fetchNotes();\n      navigate(\"/\");\n    }\n  };\n  const createNote = async newNote => {\n    setIsNotesLoading(true);\n    try {\n      const response = await axios.post(`${API_URL}/note/add-note`, newNote, {\n        withCredentials: true\n      });\n      setNotes(prevNotes => [...prevNotes, response.data]);\n      setSelectedNote(response.data);\n      return response.data;\n    } catch (err) {\n      console.error(err);\n      return null;\n    } finally {\n      setIsNotesLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(NotesContext.Provider, {\n    value: {\n      notes,\n      setNotes,\n      selectedNote,\n      setSelectedNote,\n      deleteNote,\n      getNoteById,\n      updateNote,\n      createNote,\n      fetchNotes,\n      isNotesLoading\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(NotesProvider, \"H+ViJBCPWe8D+wZM7wD0yMa0VWA=\", false, function () {\n  return [useNavigate];\n});\n_c = NotesProvider;\nexport const useNotes = () => {\n  _s2();\n  return useContext(NotesContext);\n};\n_s2(useNotes, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"NotesProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","axios","API_URL","useNavigate","jsxDEV","_jsxDEV","NotesContext","NotesProvider","children","_s","notes","setNotes","selectedNote","setSelectedNote","isNotesLoading","setIsNotesLoading","navigate","fetchNotes","response","get","withCredentials","data","err","console","error","deleteNote","id","delete","prevNotes","filter","note","_id","getNoteById","noteFromState","find","updateNote","updatedNote","put","createNote","newNote","post","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useNotes","_s2","$RefreshReg$"],"sources":["C:/Users/Ritik kumar/OneDrive - Lovely Professional University/Documents/Note.me/client/src/components/contextProvider/NotesContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../config/config\";\nimport { useNavigate } from \"react-router-dom\";\nconst NotesContext = createContext();\n\nexport const NotesProvider = ({ children }) => {\n  const [notes, setNotes] = useState([]);\n  const [selectedNote, setSelectedNote] = useState(null);\n  const [isNotesLoading, setIsNotesLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const fetchNotes = async () => {\n    setIsNotesLoading(true)\n    try {\n      const response = await axios.get(`${API_URL}/note/get-notes`, {\n        withCredentials: true,\n      });\n      setNotes(response.data);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setIsNotesLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchNotes();\n  }, []);\n\n  const deleteNote = async (id) => {\n    try {\n      await axios.delete(`${API_URL}/note/delete-note${id}`, {\n        withCredentials: true,\n      });\n      setNotes((prevNotes) => prevNotes.filter((note) => note._id !== id));\n      if (selectedNote && selectedNote._id === id) {\n        setSelectedNote(null);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const getNoteById = async (id) => {\n    setIsNotesLoading(true);\n    try {\n      const noteFromState = notes.find((note) => note._id === id);\n      if (noteFromState) {\n        setSelectedNote(noteFromState);\n        return noteFromState;\n      }\n    } catch (err) {\n      console.error(err);\n      return null;\n    } finally {\n      setIsNotesLoading(false);\n    }\n  };\n\n  const updateNote = async (id, updatedNote) => {\n    try {\n      const response = await axios.put(\n        `${API_URL}/note/update-note${id}`,\n        updatedNote,\n        {\n          withCredentials: true,\n        }\n      );\n      setNotes([]);\n      //setSelectedNote(response.data);\n      return response.data;\n    } catch (err) {\n      console.error(err);\n      return null;\n    }finally{\n      fetchNotes();\n      navigate(\"/\");\n    }\n  };\n\n  const createNote = async (newNote) => {\n    setIsNotesLoading(true);\n    try {\n      const response = await axios.post(`${API_URL}/note/add-note`, newNote, {\n        withCredentials: true,\n      });\n      setNotes((prevNotes) => [...prevNotes, response.data]);\n      setSelectedNote(response.data);\n      return response.data;\n    } catch (err) {\n      console.error(err);\n      return null;\n    }finally{\n      setIsNotesLoading(false);\n\n    }\n  };\n\n  return (\n    <NotesContext.Provider\n      value={{\n        notes,\n        setNotes,\n        selectedNote,\n        setSelectedNote,\n        deleteNote,\n        getNoteById,\n        updateNote,\n        createNote,\n        fetchNotes,\n        isNotesLoading,\n      }}\n    >\n      {children}\n    </NotesContext.Provider>\n  );\n};\n\nexport const useNotes = () => useContext(NotesContext);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}